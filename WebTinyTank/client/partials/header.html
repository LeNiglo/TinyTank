<template name="header">
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#header-collapsed">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="{{ pathFor 'home' }}">TinyTank</a>
            </div>

            <div class="collapse navbar-collapse" id="header-collapsed">
                {{> navItems }}
            </div>
        </div>
    </nav>
</template>

<template name="navItems">
    <ul class="nav navbar-nav">
        {{> navLItems }}
    </ul>
    <div class="navbar-form navbar-right">
        {{> search }}
    </div>
    <ul class="nav navbar-nav navbar-right">
        {{> navRItems }}
    </ul>
</template>

<template name="navLItems">
    {{#if isUserConnected}}
        <li class="{{ activeIfTemplateIs 'Profile' }}">
            <a href="{{ pathFor 'profile' }}">{{ getUsername }}</a>
        </li>
        <li>
            <a id="logout" title="Logout" style="cursor: pointer"><i class="glyphicon glyphicon-off"></i></a>
        </li>
    {{else}}
        <li class="{{ activeIfTemplateIs 'Login' }}">
            <a href="{{ pathFor 'login' }}">Login/Register</a>
        </li>
    {{/if}}
    <li class="{{ activeIfTemplateIs 'Ladder' }}">
        <a href="{{ pathFor 'ladder' }}">Ladder</a>
    </li>
    <li class="{{ activeIfTemplateIs 'ServersList' }}">
        <a href="{{ pathFor 'servers-list' }}">Servers List</a>
    </li>
    <li class="{{ activeIfTemplateIs 'About' }}">
        <a href="{{ pathFor 'about' }}">About</a>
    </li>
</template>

<template name="navRItems">
    <li class="{{ activeIfTemplateIs 'Download' }}">
        <a href="{{ pathFor 'download' }}">Download</a>
    </li>
    <li>
        <a href="https://github.com/LeNiglo/TinyTank" target="_blank">GitHub</a>
    </li>
</template>